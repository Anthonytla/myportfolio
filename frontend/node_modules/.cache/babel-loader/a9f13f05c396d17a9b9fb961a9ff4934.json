{"remainingRequest":"C:\\Users\\thanh\\Documents\\portfolio_bis\\vuecrudaaapi\\vue-js-client-crud\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\thanh\\Documents\\portfolio_bis\\vuecrudaaapi\\vue-js-client-crud\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\thanh\\Documents\\portfolio_bis\\vuecrudaaapi\\vue-js-client-crud\\src\\router.js","dependencies":[{"path":"C:\\Users\\thanh\\Documents\\portfolio_bis\\vuecrudaaapi\\vue-js-client-crud\\src\\router.js","mtime":1620726180948},{"path":"C:\\Users\\thanh\\Documents\\portfolio_bis\\vuecrudaaapi\\vue-js-client-crud\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\thanh\\Documents\\portfolio_bis\\vuecrudaaapi\\vue-js-client-crud\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\thanh\\Documents\\portfolio_bis\\vuecrudaaapi\\vue-js-client-crud\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IFJvdXRlciBmcm9tICJ2dWUtcm91dGVyIjsKaW1wb3J0IExvZ2luIGZyb20gJy4vY29tcG9uZW50cy9Mb2dpbi52dWUnOwppbXBvcnQgUmVnaXN0ZXIgZnJvbSAnLi9jb21wb25lbnRzL1JlZ2lzdGVyLnZ1ZSc7ClZ1ZS51c2UoUm91dGVyKTsKdmFyIHJvdXRlciA9IG5ldyBSb3V0ZXIoewogIG1vZGU6ICJoaXN0b3J5IiwKICByb3V0ZXM6IFt7CiAgICBwYXRoOiAnL2xvZ2luJywKICAgIGNvbXBvbmVudDogTG9naW4KICB9LCB7CiAgICBwYXRoOiAnL3JlZ2lzdGVyJywKICAgIGNvbXBvbmVudDogUmVnaXN0ZXIKICB9LCB7CiAgICBwYXRoOiAnL3Byb2ZpbGUnLAogICAgbmFtZTogJ3Byb2ZpbGUnLAogICAgLy8gbGF6eS1sb2FkZWQKICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KCcuL2NvbXBvbmVudHMvUHJvZmlsZS52dWUnKTsKICAgIH0KICB9LCB7CiAgICBwYXRoOiAiL2FkbWluIiwKICAgIG5hbWU6ICJhZG1pbiIsCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiLi9BZG1pbiIpOwogICAgfQogIH0sIHsKICAgIHBhdGg6ICIvbXlwb3J0Zm9saW8iLAogICAgbmFtZTogIm15cG9ydGZvbGlvIiwKICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KCIuL015UG9ydEZvbGlvIik7CiAgICB9CiAgfSwgewogICAgcGF0aDogIi90YXNrcy86ZXhwZXJpZW5jZUlkIiwKICAgIG5hbWU6ICJhZGQgdGFzayIsCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiLi9jb21wb25lbnRzL0FkZFRhc2siKTsKICAgIH0KICB9LCB7CiAgICBwYXRoOiAiL2FkZCIsCiAgICBuYW1lOiAiYWRkIiwKICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KCIuL2NvbXBvbmVudHMvQWRkRXhwZXJpZW5jZSIpOwogICAgfQogIH0sIHsKICAgIHBhdGg6ICIvYWRkX3Byb2plY3QiLAogICAgbmFtZTogImFkZF9wcm9qZWN0IiwKICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KCIuL2NvbXBvbmVudHMvQWRkUHJvamVjdCIpOwogICAgfQogIH0sIHsKICAgIHBhdGg6ICIvcHJvamVjdHMiLAogICAgbmFtZTogInByb2plY3RzIiwKICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KCIuL2NvbXBvbmVudHMvUHJvamVjdHNMaXN0Iik7CiAgICB9CiAgfSwgewogICAgcGF0aDogIi9lZHVjYXRpb25zIiwKICAgIG5hbWU6ICJlZHVjYXRpb25zIiwKICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KCIuL2NvbXBvbmVudHMvRWR1Y2F0aW9uc0xpc3QiKTsKICAgIH0KICB9LCB7CiAgICBwYXRoOiAiL2FkZF9lZHVjYXRpb24iLAogICAgbmFtZTogImFkZF9lZHVjYXRpb24iLAogICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoIi4vY29tcG9uZW50cy9BZGRFZHVjYXRpb24iKTsKICAgIH0KICB9XQp9KTsKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgdmFyIHByaXZhdGVQYWdlcyA9IFsnL2FkbWluJ107CiAgdmFyIGF1dGhSZXF1aXJlZCA9IHByaXZhdGVQYWdlcy5pbmNsdWRlcyh0by5wYXRoKTsKICB2YXIgbG9nZ2VkSW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpOyAvLyB0cnlpbmcgdG8gYWNjZXNzIGEgcmVzdHJpY3RlZCBwYWdlICsgbm90IGxvZ2dlZCBpbgogIC8vIHJlZGlyZWN0IHRvIGxvZ2luIHBhZ2UKCiAgaWYgKGF1dGhSZXF1aXJlZCAmJiAhbG9nZ2VkSW4pIHsKICAgIG5leHQoJy9sb2dpbicpOwogIH0gZWxzZSB7CiAgICBuZXh0KCk7CiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"sources":["C:/Users/thanh/Documents/portfolio_bis/vuecrudaaapi/vue-js-client-crud/src/router.js"],"names":["Vue","Router","Login","Register","use","router","mode","routes","path","component","name","beforeEach","to","from","next","privatePages","authRequired","includes","loggedIn","localStorage","getItem"],"mappings":";;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,OAAOC,KAAP,MAAkB,wBAAlB;AACA,OAAOC,QAAP,MAAqB,2BAArB;AAEAH,GAAG,CAACI,GAAJ,CAAQH,MAAR;AAEA,IAAII,MAAM,GAAG,IAAIJ,MAAJ,CAAW;AACtBK,EAAAA,IAAI,EAAE,SADgB;AAEtBC,EAAAA,MAAM,EAAE,CACN;AACEC,IAAAA,IAAI,EAAE,QADR;AAEEC,IAAAA,SAAS,EAAEP;AAFb,GADM,EAKN;AACEM,IAAAA,IAAI,EAAE,WADR;AAEEC,IAAAA,SAAS,EAAEN;AAFb,GALM,EASN;AACEK,IAAAA,IAAI,EAAE,UADR;AAEEE,IAAAA,IAAI,EAAE,SAFR;AAGE;AACAD,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,0BAAP,CAAN;AAAA;AAJb,GATM,EAeN;AACED,IAAAA,IAAI,EAAE,QADR;AAEEE,IAAAA,IAAI,EAAE,OAFR;AAGED,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,SAAP,CAAN;AAAA;AAHb,GAfM,EAoBN;AACED,IAAAA,IAAI,EAAE,cADR;AAEEE,IAAAA,IAAI,EAAE,aAFR;AAGED,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,eAAP,CAAN;AAAA;AAHb,GApBM,EAyBN;AACED,IAAAA,IAAI,EAAE,sBADR;AAEEE,IAAAA,IAAI,EAAE,UAFR;AAGED,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,sBAAP,CAAN;AAAA;AAHb,GAzBM,EA8BN;AACED,IAAAA,IAAI,EAAE,MADR;AAEEE,IAAAA,IAAI,EAAE,KAFR;AAGED,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,4BAAP,CAAN;AAAA;AAHb,GA9BM,EAmCN;AACED,IAAAA,IAAI,EAAE,cADR;AAEEE,IAAAA,IAAI,EAAE,aAFR;AAGED,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,yBAAP,CAAN;AAAA;AAHb,GAnCM,EAwCN;AACED,IAAAA,IAAI,EAAE,WADR;AAEEE,IAAAA,IAAI,EAAE,UAFR;AAGED,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,2BAAP,CAAN;AAAA;AAHb,GAxCM,EA6CN;AACED,IAAAA,IAAI,EAAE,aADR;AAEEE,IAAAA,IAAI,EAAE,YAFR;AAGED,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,6BAAP,CAAN;AAAA;AAHb,GA7CM,EAkDN;AACED,IAAAA,IAAI,EAAE,gBADR;AAEEE,IAAAA,IAAI,EAAE,eAFR;AAGED,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,2BAAP,CAAN;AAAA;AAHb,GAlDM;AAFc,CAAX,CAAb;AA4DAJ,MAAM,CAACM,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAMC,YAAY,GAAG,CAAC,QAAD,CAArB;AACA,MAAMC,YAAY,GAAGD,YAAY,CAACE,QAAb,CAAsBL,EAAE,CAACJ,IAAzB,CAArB;AACA,MAAMU,QAAQ,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAjB,CAHoC,CAKpC;AACA;;AACA,MAAIJ,YAAY,IAAI,CAACE,QAArB,EAA+B;AAC7BJ,IAAAA,IAAI,CAAC,QAAD,CAAJ;AACD,GAFD,MAEO;AACLA,IAAAA,IAAI;AACL;AACF,CAZD;AAcA,eAAeT,MAAf","sourcesContent":["import Vue from \"vue\";\r\nimport Router from \"vue-router\";\r\nimport Login from './components/Login.vue';\r\nimport Register from './components/Register.vue';\r\n\r\nVue.use(Router);\r\n\r\nvar router = new Router({\r\n  mode: \"history\",\r\n  routes: [\r\n    {\r\n      path: '/login',\r\n      component: Login\r\n    },\r\n    {\r\n      path: '/register',\r\n      component: Register\r\n    },\r\n    {\r\n      path: '/profile',\r\n      name: 'profile',\r\n      // lazy-loaded\r\n      component: () => import('./components/Profile.vue')\r\n    },\r\n    {\r\n      path: \"/admin\",\r\n      name: \"admin\",\r\n      component: () => import(\"./Admin\")\r\n    },\r\n    {\r\n      path: \"/myportfolio\",\r\n      name: \"myportfolio\",\r\n      component: () => import(\"./MyPortFolio\")\r\n    },\r\n    {\r\n      path: \"/tasks/:experienceId\",\r\n      name: \"add task\",\r\n      component: () => import(\"./components/AddTask\")\r\n    },\r\n    {\r\n      path: \"/add\",\r\n      name: \"add\",\r\n      component: () => import(\"./components/AddExperience\")\r\n    },\r\n    {\r\n      path: \"/add_project\",\r\n      name: \"add_project\",\r\n      component: () => import(\"./components/AddProject\")\r\n    },\r\n    {\r\n      path: \"/projects\",\r\n      name: \"projects\",\r\n      component: () => import(\"./components/ProjectsList\")\r\n    },\r\n    {\r\n      path: \"/educations\",\r\n      name: \"educations\",\r\n      component: () => import(\"./components/EducationsList\")\r\n    },\r\n    {\r\n      path: \"/add_education\",\r\n      name: \"add_education\",\r\n      component: () => import(\"./components/AddEducation\")\r\n    },\r\n  ]\r\n})\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  const privatePages = ['/admin'];\r\n  const authRequired = privatePages.includes(to.path);\r\n  const loggedIn = localStorage.getItem('user');\r\n\r\n  // trying to access a restricted page + not logged in\r\n  // redirect to login page\r\n  if (authRequired && !loggedIn) {\r\n    next('/login');\r\n  } else {\r\n    next();\r\n  }\r\n});\r\n\r\nexport default router;"]}]}